/**
* @license Input Mask plugin for jquery
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2014 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 0.0.0
*/
!function(e){if(void 0===e.fn.inputmask){function t(e){var t=document.createElement("input"),n=(e="on"+e)in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n}function n(t,i,a){var s=a.aliases[t];return!!s&&(s.alias&&n(s.alias,void 0,a),e.extend(!0,a,s),e.extend(!0,a,i),!0)}function i(t){var n=[],i=[];function a(n){t.numericInput&&(n=n.split("").reverse().join(""));var i=!1,a=0,s=t.greedy,r=t.repeat;"*"==r&&(s=!1),1==n.length&&0==s&&0!=r&&(t.placeholder="");for(var o=e.map(n.split(""),(function(e,n){var s=[];if(e==t.escapeChar)i=!0;else if(e!=t.optionalmarker.start&&e!=t.optionalmarker.end||i){var r=t.definitions[e];if(r&&!i)for(var o=0;o<r.cardinality;o++)s.push(t.placeholder.charAt((a+o)%t.placeholder.length));else s.push(e),i=!1;return a+=s.length,s}})),u=o.slice(),l=1;l<r&&s;l++)u=u.concat(o.slice());return{mask:u,repeat:r,greedy:s}}function s(n){t.numericInput&&(n=n.split("").reverse().join(""));var i=!1,a=!1,s=!1;return e.map(n.split(""),(function(e,n){var r=[];if(e==t.escapeChar)a=!0;else if(e!=t.optionalmarker.start||a){if(e!=t.optionalmarker.end||a){var o=t.definitions[e];if(o&&!a){for(var u=o.prevalidator,l=u?u.length:0,c=1;c<o.cardinality;c++){var f=l>=c?u[c-1]:[],d=f.validator,p=f.cardinality;r.push({fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:p||1,optionality:i,newBlockMarker:1==i&&s,offset:0,casing:o.casing,def:o.definitionSymbol||e}),1==i&&(s=!1)}r.push({fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:i,newBlockMarker:s,offset:0,casing:o.casing,def:o.definitionSymbol||e})}else r.push({fn:null,cardinality:0,optionality:i,newBlockMarker:s,offset:0,casing:null,def:e}),a=!1;return s=!1,r}i=!1,s=!0}else i=!0,s=!0}))}function r(e){return t.optionalmarker.start+e+t.optionalmarker.end}function o(e){for(var n=0,i=0,a=e.length,s=0;s<a&&(e.charAt(s)==t.optionalmarker.start&&n++,e.charAt(s)==t.optionalmarker.end&&i++,!(n>0&&n==i));s++);var r=[e.substring(0,s)];return s<a&&r.push(e.substring(s+1,a)),r}function u(e){for(var n=e.length,i=0;i<n&&e.charAt(i)!=t.optionalmarker.start;i++);var a=[e.substring(0,i)];return i<n&&a.push(e.substring(i+1,n)),a}function l(t,c,f){var d,p,v=o(c),k=u(v[0]);k.length>1?(d=t+k[0]+r(k[1])+(v.length>1?v[1]:""),-1==e.inArray(d,i)&&""!=d&&(i.push(d),p=a(d),n.push({mask:d,_buffer:p.mask,buffer:p.mask.slice(),tests:s(d),lastValidPosition:-1,greedy:p.greedy,repeat:p.repeat,metadata:f})),d=t+k[0]+(v.length>1?v[1]:""),-1==e.inArray(d,i)&&""!=d&&(i.push(d),p=a(d),n.push({mask:d,_buffer:p.mask,buffer:p.mask.slice(),tests:s(d),lastValidPosition:-1,greedy:p.greedy,repeat:p.repeat,metadata:f})),u(k[1]).length>1&&l(t+k[0],k[1]+v[1],f),v.length>1&&u(v[1]).length>1&&(l(t+k[0]+r(k[1]),v[1],f),l(t+k[0],v[1],f))):(d=t+v,-1==e.inArray(d,i)&&""!=d&&(i.push(d),p=a(d),n.push({mask:d,_buffer:p.mask,buffer:p.mask.slice(),tests:s(d),lastValidPosition:-1,greedy:p.greedy,repeat:p.repeat,metadata:f})))}return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,(function(e,t){null!=t.mask?l("",t.mask.toString(),t):l("",t.toString())})):l("",t.mask.toString()),t.greedy?n:n.sort((function(e,t){return e.mask.length-t.mask.length}))}var a=null!==navigator.userAgent.match(new RegExp("msie 10","i")),s=null!==navigator.userAgent.match(new RegExp("iphone","i")),r=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),o=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),u=t("paste")?"paste":t("input")?"input":"propertychange";function l(t,n,i,l){var c,f,d=!1,p=y().join(""),v=!1,k=!1,h=!1;function m(){return t[n]}function g(){return m().tests}function _(){return m()._buffer}function y(){return m().buffer}function b(a,s,r){function o(e,t,n,a){for(var s=C(e),r=n?1:0,o="",u=t.buffer,l=t.tests[s].cardinality;l>r;l--)o+=I(u,s-(l-1));return n&&(o+=n),null!=t.tests[s].fn?t.tests[s].fn.test(o,u,e,a,i):(n==I(t._buffer,e,!0)||n==i.skipOptionalPartCharacter)&&{refresh:!0,c:I(t._buffer,e,!0),pos:e}}function u(n,i){var r=!1;if(e.each(i,(function(t,i){if(r=-1==e.inArray(i.activeMasksetIndex,n)&&!1!==i.result)return!1})),r)i=e.map(i,(function(i,a){if(-1==e.inArray(i.activeMasksetIndex,n))return i;t[i.activeMasksetIndex].lastValidPosition=p}));else{var u=-1,l=-1;e.each(i,(function(t,i){-1!=e.inArray(i.activeMasksetIndex,n)&&!1!==i.result&(-1==u||u>i.result.pos)&&(u=i.result.pos,l=i.activeMasksetIndex)})),i=e.map(i,(function(i,r){if(-1!=e.inArray(i.activeMasksetIndex,n)){if(i.result.pos==u)return i;if(!1!==i.result){for(var c=a;c<u;c++){if(!1===o(c,t[i.activeMasksetIndex],t[l].buffer[c],!0)){t[i.activeMasksetIndex].lastValidPosition=u-1;break}j(t[i.activeMasksetIndex].buffer,c,t[l].buffer[c],!0),t[i.activeMasksetIndex].lastValidPosition=c}return!1!==o(u,t[i.activeMasksetIndex],s,!0)&&(j(t[i.activeMasksetIndex].buffer,u,s,!0),t[i.activeMasksetIndex].lastValidPosition=u),i}}}))}return i}if(r=!0===r)return!0===(c=o(a,m(),s,r))&&(c={pos:a}),c;var l=[],c=!1,f=n,d=y().slice(),p=m().lastValidPosition,v=(E(a),[]);return e.each(t,(function(e,t){if("object"==typeof t){n=e;var i,u=a,k=m().lastValidPosition;if(k==p){if(u-p>1)for(var h=-1==k?0:k;h<u&&!1!==(i=o(h,m(),d[h],!0));h++){j(y(),h,d[h],!0),!0===i&&(i={pos:h});var g=i.pos||h;m().lastValidPosition<g&&(m().lastValidPosition=g)}if(!x(u)&&!o(u,m(),s,r)){for(var _=A(u)-u,b=0;b<_&&!1===o(++u,m(),s,r);b++);v.push(n)}}(m().lastValidPosition>=p||n==f)&&u>=0&&u<M()&&(!1!==(c=o(u,m(),s,r))&&(!0===c&&(c={pos:u}),g=c.pos||u,m().lastValidPosition<g&&(m().lastValidPosition=g)),l.push({activeMasksetIndex:e,result:c}))}})),n=f,u(v,l)}function P(){var i=n,a={activeMasksetIndex:0,lastValidPosition:-1,next:-1};e.each(t,(function(e,t){"object"==typeof t&&(n=e,(m().lastValidPosition>a.lastValidPosition||m().lastValidPosition==a.lastValidPosition&&(-1==a.next||a.next>A(m().lastValidPosition)))&&(a.activeMasksetIndex=e,a.lastValidPosition=m().lastValidPosition,a.next=A(m().lastValidPosition)))})),i!=(n=-1!=a.lastValidPosition&&t[i].lastValidPosition==a.lastValidPosition?i:a.activeMasksetIndex)&&(w(y(),A(a.lastValidPosition),M()),m().writeOutBuffer=!0),c.data("_inputmask").activeMasksetIndex=n}function x(e){var t=C(e),n=g()[t];return null!=n&&n.fn}function C(e){return e%g().length}function M(){return i.getMaskLength(_(),m().greedy,m().repeat,y(),i)}function A(e){var t=M();if(e>=t)return t;for(var n=e;++n<t&&!x(n););return n}function E(e){var t=e;if(t<=0)return 0;for(;--t>0&&!x(t););return t}function j(e,t,n,i){i&&(t=S(e,t));var a=g()[C(t)],s=n;if(null!=s&&null!=a)switch(a.casing){case"upper":s=n.toUpperCase();break;case"lower":s=n.toLowerCase()}e[t]=s}function I(e,t,n){return n&&(t=S(e,t)),e[t]}function S(e,t){for(var n;null==e[t]&&e.length<M();)for(n=0;void 0!==_()[n];)e.push(_()[n++]);return t}function V(e,t,n){e._valueSet(t.join("")),null!=n&&B(e,n)}function w(e,t,n,i){for(var a=t,s=M();a<n&&a<s;a++)!0===i?x(a)||j(e,a,""):j(e,a,I(_().slice(),a,!0))}function O(e,t){var n=C(t);j(e,t,I(_(),n))}function D(e){return i.placeholder.charAt(e%i.placeholder.length)}function G(i,a,s,r,o){var u=null!=r?r.slice():R(i._valueGet()).split("");e.each(t,(function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)})),!0!==s&&(n=0),a&&i._valueSet(""),M(),e.each(u,(function(t,n){if(!0===o){var r=m().p,u=-1==r?r:E(r),l=-1==u?t:A(u);-1==e.inArray(n,_().slice(u+1,l))&&Z.call(i,void 0,!0,n.charCodeAt(0),a,s,t)}else Z.call(i,void 0,!0,n.charCodeAt(0),a,s,t)})),!0===s&&-1!=m().p&&(m().lastValidPosition=E(m().p))}function T(t){return e.inputmask.escapeRegex.call(this,t)}function R(e){return e.replace(new RegExp("("+T(_().join(""))+")*$"),"")}function K(e){for(var t=y(),n=t.slice(),i=n.length-1;i>=0;i--){var a=C(i);if(!g()[a].optionality)break;if(x(i)&&b(i,t[i],!0))break;n.pop()}V(e,n)}function N(t,n){if(!g()||!0!==n&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var a=e.map(y(),(function(e,t){return x(t)&&b(t,e,!0)?e:null})),s=(d?a.reverse():a).join("");return null!=i.onUnMask?i.onUnMask.call(this,y().join(""),s):s}function L(e){return!d||"number"!=typeof e||i.greedy&&""==i.placeholder||(e=y().length-e),e}function B(t,n,a){var s,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof n)return e(t).is(":visible")?(o.setSelectionRange?(n=o.selectionStart,a=o.selectionEnd):document.selection&&document.selection.createRange&&(a=(n=0-(s=document.selection.createRange()).duplicate().moveStart("character",-1e5))+s.text.length),{begin:n=L(n),end:a=L(a)}):{begin:0,end:0};n=L(n),a=L(a),e(t).is(":visible")&&(a="number"==typeof a?a:n,o.scrollLeft=o.scrollWidth,0==i.insertMode&&n==a&&a++,o.setSelectionRange?(o.selectionStart=n,o.selectionEnd=r?n:a):o.createTextRange&&((s=o.createTextRange()).collapse(!0),s.moveEnd("character",a),s.moveStart("character",n),s.select()))}function U(a){if("*"!=i.repeat){var s=!1,r=0,o=n;return e.each(t,(function(e,t){if("object"==typeof t){n=e;var i=E(M());if(t.lastValidPosition>=r&&t.lastValidPosition==i){for(var o=!0,u=0;u<=i;u++){var l=x(u),c=C(u);if(l&&(null==a[u]||a[u]==D(u))||!l&&a[u]!=_()[c]){o=!1;break}}if(s=s||o)return!1}r=t.lastValidPosition}})),n=o,s}}function H(e,t){return d?e-t>1||e-t==1&&i.insertMode:t-e>1||t-e==1&&i.insertMode}function F(t){var n=e._data(t).events;e.each(n,(function(t,n){e.each(n,(function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var n=t.handler;t.handler=function(e){if(!this.readOnly&&!this.disabled)return n.apply(this,arguments);e.preventDefault}}}))}))}function W(t){var n;if(Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get){if(!t._valueGet){var i=n.get,a=n.set;t._valueGet=function(){return d?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(e){a.call(this,d?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("_inputmask"),a=n.masksets,s=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=a[s]._buffer.join("")?i.call(this):""},set:function(t){a.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(i=t.__lookupGetter__("value"),a=t.__lookupSetter__("value"),t._valueGet=function(){return d?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(e){a.call(this,d?e.split("").reverse().join(""):e)},t.__defineGetter__("value",(function(){var t=e(this),n=e(this).data("_inputmask"),a=n.masksets,s=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=a[s]._buffer.join("")?i.call(this):""})),t.__defineSetter__("value",(function(t){a.call(this,t),e(this).triggerHandler("setvalue.inputmask")}))):(t._valueGet||(t._valueGet=function(){return d?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=d?e.split("").reverse().join(""):e}),(null==e.valHooks.text||1!=e.valHooks.text.inputmaskpatch)&&(i=e.valHooks.text&&e.valHooks.text.get?e.valHooks.text.get:function(e){return e.value},a=e.valHooks.text&&e.valHooks.text.set?e.valHooks.text.set:function(e,t){return e.value=t,e},jQuery.extend(e.valHooks,{text:{get:function(t){var n=e(t);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var a=i(t),s=n.data("_inputmask");return a!=s.masksets[s.activeMasksetIndex]._buffer.join("")?a:""}return i(t)},set:function(t,n){var i=e(t),s=a(t,n);return i.data("_inputmask")&&i.triggerHandler("setvalue.inputmask"),s},inputmaskpatch:!0}})))}function $(e,t,n,i){var a=y();if(!1!==i)for(;!x(e)&&e-1>=0;)e--;for(var s=e;s<t&&s<M();s++)if(x(s)){O(a,s);var r=A(s),o=I(a,r);if(o!=D(r))if(r<M()&&!1!==b(s,o,!0)&&g()[C(s)].def==g()[C(r)].def)j(a,s,o,!0);else if(x(s))break}else O(a,s);if(null!=n&&j(a,E(t),n),0==m().greedy){var u=R(a.join("")).split("");a.length=u.length,s=0;for(var l=a.length;s<l;s++)a[s]=u[s];0==a.length&&(m().buffer=_().slice())}return e}function q(e,t,n){var i=y();if(I(i,e,!0)!=D(e))for(var a=E(t);a>e&&a>=0;a--)if(x(a)){var s=E(a),r=I(i,s);r!=D(s)&&!1!==b(s,r,!0)&&g()[C(a)].def==g()[C(s)].def&&(j(i,a,r,!0),O(i,s))}else O(i,a);null!=n&&I(i,e)==D(e)&&j(i,e,n);var o=i.length;if(0==m().greedy){var u=R(i.join("")).split("");i.length=u.length,a=0;for(var l=i.length;a<l;a++)i[a]=u[a];0==i.length&&(m().buffer=_().slice())}return t-(o-i.length)}function z(e,n,a){if(i.numericInput||d){switch(n){case i.keyCode.BACKSPACE:n=i.keyCode.DELETE;break;case i.keyCode.DELETE:n=i.keyCode.BACKSPACE}if(d){var s=a.end;a.end=a.begin,a.begin=s}}var r=!0;if(a.begin==a.end){var o=n==i.keyCode.BACKSPACE?a.begin-1:a.begin;i.isNumeric&&""!=i.radixPoint&&y()[o]==i.radixPoint&&(a.begin=y().length-1==o?a.begin:n==i.keyCode.BACKSPACE?o:A(o),a.end=a.begin),r=!1,n==i.keyCode.BACKSPACE?a.begin--:n==i.keyCode.DELETE&&a.end++}else a.end-a.begin!=1||i.insertMode||(r=!1,n==i.keyCode.BACKSPACE&&a.begin--);w(y(),a.begin,a.end);var u=M();if(0==i.greedy)$(a.begin,u,void 0,!d&&n==i.keyCode.BACKSPACE&&!r);else{for(var l=a.begin,c=a.begin;c<a.end;c++)!x(c)&&r||(l=$(a.begin,u,void 0,!d&&n==i.keyCode.BACKSPACE&&!r));r||(a.begin=l)}var f=A(-1);w(y(),a.begin,a.end,!0),G(e,!1,null==t[1]||f>=a.end,y()),m().lastValidPosition<f?(m().lastValidPosition=-1,m().p=f):m().p=a.begin}function Q(t){v=!1;var n=this,a=e(n),r=t.keyCode,o=B(n);r==i.keyCode.BACKSPACE||r==i.keyCode.DELETE||s&&127==r||t.ctrlKey&&88==r?(t.preventDefault(),88==r&&(p=y().join("")),z(n,r,o),P(),V(n,y(),m().p),n._valueGet()==_().join("")&&a.trigger("cleared"),i.showTooltip&&a.prop("title",m().mask)):r==i.keyCode.END||r==i.keyCode.PAGE_DOWN?setTimeout((function(){var e=A(m().lastValidPosition);i.insertMode||e!=M()||t.shiftKey||e--,B(n,t.shiftKey?o.begin:e,e)}),0):r==i.keyCode.HOME&&!t.shiftKey||r==i.keyCode.PAGE_UP?B(n,0,t.shiftKey?o.begin:0):r==i.keyCode.ESCAPE||90==r&&t.ctrlKey?(G(n,!0,!1,p.split("")),a.click()):r!=i.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=i.insertMode||t.shiftKey||(r==i.keyCode.RIGHT?setTimeout((function(){var e=B(n);B(n,e.begin)}),0):r==i.keyCode.LEFT&&setTimeout((function(){var e=B(n);B(n,e.begin-1)}),0)):(i.insertMode=!i.insertMode,B(n,i.insertMode||o.begin!=M()?o.begin:o.begin-1));var u=B(n);!0===i.onKeyDown.call(this,t,y(),i)&&B(n,u.begin,u.end),h=-1!=e.inArray(r,i.ignorables)}function Z(a,s,r,o,u,l){if(null==r&&v)return!1;v=!0;var c=this,f=e(c);if(a=a||window.event,r=s?r:a.which||a.charCode||a.keyCode,!(!0===s||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||h))return!0;if(r){!0!==s&&46==r&&0==a.shiftKey&&","==i.radixPoint&&(r=44);var d,p,g,_=String.fromCharCode(r);if(s){var x=u?l:m().lastValidPosition+1;d={begin:x,end:x}}else d=B(c);var C=H(d.begin,d.end),S=n;C&&(n=S,e.each(t,(function(e,t){"object"==typeof t&&(n=e,m().undoBuffer=y().join(""))})),z(c,i.keyCode.DELETE,d),i.insertMode||e.each(t,(function(e,t){"object"==typeof t&&(n=e,q(d.begin,M()),m().lastValidPosition=A(m().lastValidPosition))})),n=S);var w=y().join("").indexOf(i.radixPoint);i.isNumeric&&!0!==s&&-1!=w&&(i.greedy&&d.begin<=w?(d.begin=E(d.begin),d.end=d.begin):_==i.radixPoint&&(d.begin=w,d.end=d.begin));var O=d.begin;p=b(O,_,u),!0===u&&(p=[{activeMasksetIndex:n,result:p}]);var G=-1;if(e.each(p,(function(e,t){n=t.activeMasksetIndex,m().writeOutBuffer=!0;var a=t.result;if(!1!==a){var s=!1,r=y();if(!0!==a&&(s=a.refresh,O=null!=a.pos?a.pos:O,_=null!=a.c?a.c:_),!0!==s){if(1==i.insertMode){for(var o=M(),l=r.slice();I(l,o,!0)!=D(o)&&o>=O;)o=0==o?-1:E(o);if(o>=O){q(O,M(),_);var c=m().lastValidPosition,f=A(c);f!=M()&&c>=O&&I(y(),f,!0)!=D(f)&&(m().lastValidPosition=f)}else m().writeOutBuffer=!1}else j(r,O,_,!0);(-1==G||G>A(O))&&(G=A(O))}else if(!u){var d=O<M()?O+1:O;(-1==G||G>d)&&(G=d)}G>m().p&&(m().p=G)}})),!0!==u&&(n=S,P()),!1!==o&&(e.each(p,(function(e,t){if(t.activeMasksetIndex==n)return g=t,!1})),null!=g)){var T=this;if(setTimeout((function(){i.onKeyValidation.call(T,g.result,i)}),0),m().writeOutBuffer&&!1!==g.result){var R,K=y();R=s?void 0:i.numericInput?O>w?E(G):_==i.radixPoint?G-1:E(G-1):G,V(c,K,R),!0!==s&&setTimeout((function(){!0===U(K)&&f.trigger("complete"),k=!0,f.trigger("input")}),0)}else C&&(m().buffer=m().undoBuffer.split(""))}i.showTooltip&&f.prop("title",m().mask),a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}function J(t){var n=e(this),a=this,s=t.keyCode,r=y();o&&s==i.keyCode.BACKSPACE&&f==a._valueGet()&&Q.call(this,t),i.onKeyUp.call(this,t,r,i),s==i.keyCode.TAB&&i.showMaskOnFocus&&(n.hasClass("focus.inputmask")&&0==a._valueGet().length?(V(a,r=_().slice()),B(a,0),p=y().join("")):(V(a,r),r.join("")==_().join("")&&-1!=e.inArray(i.radixPoint,r)?(B(a,L(0)),n.click()):B(a,L(0),L(M()))))}function Y(t){if(!0===k)return k=!1,!0;var n=this,i=e(n);f=y().join(""),G(n,!1,!1),V(n,y()),!0===U(y())&&i.trigger("complete"),i.click()}function X(s){if((c=e(s)).is(":input")){if(c.data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:i,isRTL:!1}),i.showTooltip&&c.prop("title",m().mask),m().greedy=m().greedy?m().greedy:0==m().repeat,null!=c.attr("maxLength")){var r=c.prop("maxLength");r>-1&&e.each(t,(function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=r)})),M()>=r&&r>-1&&(r<_().length&&(_().length=r),0==m().greedy&&(m().repeat=Math.round(r/_().length)),c.prop("maxLength",2*M()))}if(W(s),i.numericInput&&(i.isNumeric=i.numericInput),("rtl"==s.dir||i.numericInput&&i.rightAlignNumerics||i.isNumeric&&i.rightAlignNumerics)&&c.css("text-align","right"),"rtl"==s.dir||i.numericInput){s.dir="ltr",c.removeAttr("dir");var l=c.data("_inputmask");l.isRTL=!0,c.data("_inputmask",l),d=!0}var f;c.unbind(".inputmask"),c.removeClass("focus.inputmask"),c.closest("form").bind("submit",(function(){p!=y().join("")&&c.change()})).bind("reset",(function(){setTimeout((function(){c.trigger("setvalue")}),0)})),c.bind("mouseenter.inputmask",(function(){var t=this;!e(this).hasClass("focus.inputmask")&&i.showMaskOnHover&&t._valueGet()!=y().join("")&&V(t,y())})).bind("blur.inputmask",(function(){var a=e(this),s=this,r=s._valueGet(),o=y();a.removeClass("focus.inputmask"),p!=y().join("")&&a.change(),i.clearMaskOnLostFocus&&""!=r&&(r==_().join("")?s._valueSet(""):K(s)),!1===U(o)&&(a.trigger("incomplete"),i.clearIncomplete&&(e.each(t,(function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)})),n=0,i.clearMaskOnLostFocus?s._valueSet(""):V(s,o=_().slice())))})).bind("focus.inputmask",(function(){var t=e(this),n=this,a=n._valueGet();i.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!i.showMaskOnHover||i.showMaskOnHover&&""==a)&&n._valueGet()!=y().join("")&&V(n,y(),A(m().lastValidPosition)),t.addClass("focus.inputmask"),p=y().join("")})).bind("mouseleave.inputmask",(function(){var t=e(this),n=this;i.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||n._valueGet()==t.attr("placeholder")||(n._valueGet()==_().join("")||""==n._valueGet()?n._valueSet(""):K(n)))})).bind("click.inputmask",(function(){var t=this;setTimeout((function(){var n=B(t),a=y();if(n.begin==n.end){var s,r=d?L(n.begin):n.begin,o=m().lastValidPosition;r<(s=i.isNumeric&&!1===i.skipRadixDance&&""!=i.radixPoint&&-1!=e.inArray(i.radixPoint,a)?i.numericInput?A(e.inArray(i.radixPoint,a)):e.inArray(i.radixPoint,a):A(o))?x(r)?B(t,r):B(t,A(r)):B(t,s)}}),0)})).bind("dblclick.inputmask",(function(){var e=this;setTimeout((function(){B(e,0,A(m().lastValidPosition))}),0)})).bind(u+".inputmask dragdrop.inputmask drop.inputmask",(function(t){if(!0===k)return k=!1,!0;var n=this,a=e(n);if("propertychange"==t.type&&n._valueGet().length<=M())return!0;setTimeout((function(){var e=null!=i.onBeforePaste?i.onBeforePaste.call(this,n._valueGet()):n._valueGet();G(n,!0,!1,e.split(""),!0),!0===U(y())&&a.trigger("complete"),a.click()}),0)})).bind("setvalue.inputmask",(function(){var e=this;G(e,!0),p=y().join(""),e._valueGet()==_().join("")&&e._valueSet("")})).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared).bind("keyup.inputmask",J),o?c.bind("input.inputmask",Y):c.bind("keydown.inputmask",Q).bind("keypress.inputmask",Z),a&&c.bind("input.inputmask",Y),G(s,!0,!1),p=y().join("");try{f=document.activeElement}catch(e){}f===s?(c.addClass("focus.inputmask"),B(s,A(m().lastValidPosition))):i.clearMaskOnLostFocus?y().join("")==_().join("")?s._valueSet(""):K(s):V(s,y()),F(s)}}if(null!=l)switch(l.action){case"isComplete":return U(l.buffer);case"unmaskedvalue":return d=l.$input.data("_inputmask").isRTL,N(l.$input,l.skipDatepickerCheck);case"mask":X(l.el);break;case"format":return(c=e({})).data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:i,isRTL:i.numericInput}),i.numericInput&&(i.isNumeric=i.numericInput,d=!0),G(c,!1,!1,l.value.split(""),!0),y().join("")}}e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,n,i,a){var s=e.length;return t||("*"==n?s=i.length+1:n>1&&(s+=e.length*(n-1))),s}},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,a){var s=e.extend(!0,{},e.inputmask.defaults,a);return n(s.alias,a,s),l(i(s),0,s,{action:"format",value:t})}},e.fn.inputmask=function(t,a){var s,r=e.extend(!0,{},e.inputmask.defaults,a),o=0;if("string"==typeof t)switch(t){case"mask":return n(r.alias,a,r),0==(s=i(r)).length?this:this.each((function(){l(e.extend(!0,{},s),0,r,{action:"mask",el:this})}));case"unmaskedvalue":var u=e(this);return u.data("_inputmask")?(s=u.data("_inputmask").masksets,o=u.data("_inputmask").activeMasksetIndex,r=u.data("_inputmask").opts,l(s,o,r,{action:"unmaskedvalue",$input:u})):u.val();case"remove":return this.each((function(){var t=e(this),n=this;if(t.data("_inputmask")){var i;s=t.data("_inputmask").masksets,o=t.data("_inputmask").activeMasksetIndex,r=t.data("_inputmask").opts,n._valueSet(l(s,o,r,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask"),Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(n,"value")),i&&i.get?n._valueGet&&Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet}):document.__lookupGetter__&&n.__lookupGetter__("value")&&n._valueGet&&(n.__defineGetter__("value",n._valueGet),n.__defineSetter__("value",n._valueSet));try{delete n._valueGet,delete n._valueSet}catch(e){n._valueGet=void 0,n._valueSet=void 0}}}));case"getemptymask":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,o=this.data("_inputmask").activeMasksetIndex,s[o]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return s=this.data("_inputmask").masksets,o=this.data("_inputmask").activeMasksetIndex,r=this.data("_inputmask").opts,l(s,o,r,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,o=this.data("_inputmask").activeMasksetIndex,s[o].metadata):void 0;default:return n(t,a,r)||(r.mask=t),0==(s=i(r)).length?this:this.each((function(){l(e.extend(!0,{},s),o,r,{action:"mask",el:this})}))}else{if("object"==typeof t)return n((r=e.extend(!0,{},e.inputmask.defaults,t)).alias,t,r),0==(s=i(r)).length?this:this.each((function(){l(e.extend(!0,{},s),o,r,{action:"mask",el:this})}));if(null==t)return this.each((function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var i=e.parseJSON("{"+t+"}");e.extend(!0,i,a),n((r=e.extend(!0,{},e.inputmask.defaults,i)).alias,i,r),r.alias=void 0,e(this).inputmask(r)}catch(e){}}))}}}}(jQuery);