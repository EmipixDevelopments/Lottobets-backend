var t;t=function(t){var e=0,n=1,a=2;t.defineMode("yaml-frontmatter",(function(r,o){var i=t.getMode(r,"yaml"),m=t.getMode(r,o&&o.base||"gfm");function l(t){return t.state==n?{mode:i,state:t.yaml}:{mode:m,state:t.inner}}return{startState:function(){return{state:e,yaml:null,inner:t.startState(m)}},copyState:function(e){return{state:e.state,yaml:e.yaml&&t.copyState(i,e.yaml),inner:t.copyState(m,e.inner)}},token:function(r,o){if(o.state==e)return r.match("---",!1)?(o.state=n,o.yaml=t.startState(i),i.token(r,o.yaml)):(o.state=a,m.token(r,o.inner));if(o.state==n){var l=r.sol()&&r.match(/(---|\.\.\.)/,!1),u=i.token(r,o.yaml);return l&&(o.state=a,o.yaml=null),u}return m.token(r,o.inner)},innerMode:l,indent:function(e,n,a){var r=l(e);return r.mode.indent?r.mode.indent(r.state,n,a):t.Pass},blankLine:function(t){var e=l(t);if(e.mode.blankLine)return e.mode.blankLine(e.state)}}}))},"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],t):t(CodeMirror);